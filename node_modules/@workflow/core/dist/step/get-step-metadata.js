import { contextStorage } from './context-storage.js';
/**
 * Returns metadata available in the current step function.
 * It uses `AsyncLocalStorage` to store the context and
 * retrieve it in the step function.
 */
export function getStepMetadata() {
    const ctx = contextStorage.getStore();
    if (!ctx) {
        throw new Error('`getStepMetadata()` can only be called inside a step function');
    }
    return ctx.stepMetadata;
}
//# sourceMappingURL=get-step-metadata.js.map